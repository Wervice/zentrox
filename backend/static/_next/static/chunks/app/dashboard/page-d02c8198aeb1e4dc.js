(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{379:function(e,t,s){Promise.resolve().then(s.bind(s,4547))},4547:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return tu}});var a=s(7437),n=s(2265),r=s(9324),l=s(2468),i=s(8214);let o=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(r.fC,{ref:t,className:(0,i.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-neutral-200 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-neutral-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-white data-[state=checked]:text-black dark:border-white dark:ring-offset-neutral-950 dark:focus-visible:ring-neutral-300 align-text-bottom ease-in-out duration-300 transition-all",s),...n,children:(0,a.jsx)(r.z$,{className:(0,i.cn)("flex items-center justify-center text-current"),children:(0,a.jsx)(l.Z,{className:"h-4 w-4"})})})});o.displayName=r.fC.displayName;var c=s(9646);let d=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(c.fC,{className:(0,i.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-neutral-950 focus-visible:ring-offset-2 focus-visible:ring-offset-white disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-white data-[state=unchecked]:bg-neutral-700 dark:focus-visible:ring-neutral-300 dark:focus-visible:ring-offset-neutral-950 dark:data-[state=checked]:bg-neutral-50 dark:data-[state=unchecked]:bg-neutral-200",s),...n,ref:t,children:(0,a.jsx)(c.bU,{className:(0,i.cn)("pointer-events-none block h-5 w-5 rounded-full bg-white shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=checked]:bg-black data-[state=unchecked]:translate-x-0 dark:bg-neutral-950")})})});d.displayName=c.fC.displayName;var u=s(2200),h=s(6863),x=s(5353),m=s(5640),f=s(9892),p=s(5302),j=s(475),b=s(1100),g=s(4859),v=s(4250),y=s(1815),w=s(5574),N=s(2222),k=s(5489),C=s(1510),Z=s(3274),S=s(1935),T=s(3231),z=s(4831),F=s(4817),P=s(6290),R=s(4486),O=s(9891),A=s(399),I=s(4909),D=s(3633),_=s(500),U=s(208),E=s(8822),V=s(2513),M=s(8156),B=s(1734),L=s(6717),W=s(9321),Y=s(9167),J=s(2022),G=s(6418),H=s(3124),K=s(7164),q=s(9627),$=s(4453),X=s(8496),Q=s(9451),ee=s(8184),et=s(3541),es=s(4033),ea=s(9827),en=s(2243),er=s(9896),el=s(8364);let ei=(0,s(2218).j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),eo=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(el.f,{ref:t,className:(0,i.cn)(ei(),s),...n})});eo.displayName=el.f.displayName;var ec=s(3465),ed=s(750);function eu(e){let{visible:t=!1}=e;return t?(0,a.jsx)(Z.Z,{className:"inline-block h-4 w-4 animate-spin mr-1"}):(0,a.jsx)(a.Fragment,{})}s(6660),s(5367),s(3137);var eh=s(690),ex=s(3304),em=s(4697);let ef=ex.fC,ep=ex.xz,ej=ex.h_,eb=ex.x8,eg=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(ex.aV,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80 text-white data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...n})});eg.displayName=ex.aV.displayName;let ev=n.forwardRef((e,t)=>{let{className:s,children:n,...r}=e;return(0,a.jsxs)(ej,{children:[(0,a.jsx)(eg,{}),(0,a.jsxs)(ex.VY,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-zinc-200 p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg dark:border-zinc-800 dark:bg-zinc-950 bg-black text-white",s),...r,children:[n,(0,a.jsxs)(ex.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-zinc-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-zinc-100 data-[state=open]:text-zinc-500 dark:ring-offset-zinc-950 dark:focus:ring-zinc-300 dark:data-[state=open]:bg-zinc-800 dark:data-[state=open]:text-zinc-400",children:[(0,a.jsx)(em.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});ev.displayName=ex.VY.displayName;let ey=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...s})};ey.displayName="DialogHeader";let ew=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s})};ew.displayName="DialogFooter";let eN=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(ex.Dx,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",s),...n})});eN.displayName=ex.Dx.displayName;let ek=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(ex.dk,{ref:t,className:(0,i.cn)("text-sm text-zinc-500 dark:text-zinc-400",s),...n})});function eC(e){let{title:t,info:s}=e;return(0,a.jsxs)(ef,{children:[(0,a.jsx)(ep,{asChild:!0,className:"inline-block",children:(0,a.jsx)(eh.Z,{className:"h-4 w-4 inline-block text-neutral-600"})}),(0,a.jsxs)(ev,{children:[(0,a.jsx)(ey,{children:(0,a.jsx)(eN,{children:t})}),s,(0,a.jsx)(ew,{children:(0,a.jsx)(eb,{asChild:!0,children:(0,a.jsx)(u.z,{variant:"secondary",children:"Close"})})})]})]})}function eZ(e){let{name:t,value:s,Info:n=null,Icon:r=(0,a.jsx)(a.Fragment,{})}=e;if(null!==n)var l=(0,a.jsx)(eC,{title:t,info:n});else var l=(0,a.jsx)(a.Fragment,{});return(0,a.jsxs)("div",{className:"inline-block border border-neutral-600 rounded-xl w-64 p-4 mb-2 mt-2 mr-5",children:[(0,a.jsxs)("span",{className:"text-neutral-400 block",children:[r," ",t," ",l]}),(0,a.jsx)("span",{className:"text-2xl text-white font-bold",children:s})]})}ek.displayName=ex.dk.displayName;var eS=s(7147),eT=s(396),ez=s(2435),eF=s(8297),eP=s(2421),eR=s(4392);let eO=eF.fC,eA=eF.ZA,eI=eF.B4,eD=n.forwardRef((e,t)=>{let{className:s,children:n,...r}=e;return(0,a.jsxs)(eF.xz,{ref:t,className:(0,i.cn)("flex h-10 w-full items-center justify-between rounded-md border border-neutral-600 bg-black px-3 py-2 text-sm ring-offset-black placeholder:text-zinc-500 focus:outline-none focus:ring-2 focus:ring-zinc-950 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 dark:border-zinc-800 dark:bg-zinc-950 dark:ring-offset-zinc-950 dark:placeholder:text-zinc-400 dark:focus:ring-zinc-300",s),...r,children:[n,(0,a.jsx)(eF.JO,{asChild:!0,children:(0,a.jsx)(eP.Z,{className:"h-4 w-4 opacity-50"})})]})});eD.displayName=eF.xz.displayName;let e_=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(eF.u_,{ref:t,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",s),...n,children:(0,a.jsx)(eR.Z,{className:"h-4 w-4"})})});e_.displayName=eF.u_.displayName;let eU=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(eF.$G,{ref:t,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",s),...n,children:(0,a.jsx)(eP.Z,{className:"h-4 w-4"})})});eU.displayName=eF.$G.displayName;let eE=n.forwardRef((e,t)=>{let{className:s,children:n,position:r="popper",...l}=e;return(0,a.jsx)(eF.h_,{children:(0,a.jsxs)(eF.VY,{ref:t,className:(0,i.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-zinc-200 bg-black text-white shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-50","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:r,...l,children:[(0,a.jsx)(e_,{}),(0,a.jsx)(eF.l_,{className:(0,i.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),(0,a.jsx)(eU,{})]})})});eE.displayName=eF.VY.displayName,n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(eF.__,{ref:t,className:(0,i.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...n})}).displayName=eF.__.displayName;let eV=n.forwardRef((e,t)=>{let{className:s,children:n,...r}=e;return(0,a.jsxs)(eF.ck,{ref:t,className:(0,i.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-neutral-800 focus:text-white data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-zinc-800 dark:focus:text-zinc-50",s),...r,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(eF.wU,{children:(0,a.jsx)(l.Z,{className:"h-4 w-4"})})}),(0,a.jsx)(eF.eT,{children:n})]})});eV.displayName=eF.ck.displayName,n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(eF.Z0,{ref:t,className:(0,i.cn)("-mx-1 my-1 h-px bg-zinc-100 dark:bg-zinc-800",s),...n})}).displayName=eF.Z0.displayName;var eM=s(6669);let eB=eM.fC,eL=eM.xz,eW=eM.h_,eY=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(eM.aV,{className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...n,ref:t})});eY.displayName=eM.aV.displayName;let eJ=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsxs)(eW,{children:[(0,a.jsx)(eY,{}),(0,a.jsx)(eM.VY,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...n})]})});eJ.displayName=eM.VY.displayName;let eG=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...s})};eG.displayName="AlertDialogHeader";let eH=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s})};eH.displayName="AlertDialogFooter";let eK=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(eM.Dx,{ref:t,className:(0,i.cn)("text-lg font-semibold",s),...n})});eK.displayName=eM.Dx.displayName;let eq=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(eM.dk,{ref:t,className:(0,i.cn)("text-sm text-white",s),...n})});eq.displayName=eM.dk.displayName;let e$=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(eM.aU,{ref:t,className:(0,i.cn)((0,u.d)(),s),...n})});e$.displayName=eM.aU.displayName;let eX=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(eM.$j,{ref:t,className:(0,i.cn)((0,u.d)({variant:"outline"}),"mt-2 sm:mt-0",s),...n})});eX.displayName=eM.$j.displayName;var eQ=s(3765),e0=s(4775),e1=s(3852),e4=s(2023),e5=s(3711),e2=s(8954),e8=s(2535),e6=s(8763),e3=s(2833),e9=s(7592),e7=s(8165);let te=e3.fC,tt=e3.xz;e3.ZA,e3.Uv,e3.Tr,e3.Ee,n.forwardRef((e,t)=>{let{className:s,inset:n,children:r,...l}=e;return(0,a.jsxs)(e3.fF,{ref:t,className:(0,i.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-neutral-700 focus:text-white data-[state=open]:bg-neutral-700 data-[state=open]:text-neutral-800",n&&"pl-8",s),...l,children:[r,(0,a.jsx)(e9.Z,{className:"ml-auto h-4 w-4"})]})}).displayName=e3.fF.displayName,n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(e3.tu,{ref:t,className:(0,i.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...n})}).displayName=e3.tu.displayName;let ts=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(e3.Uv,{children:(0,a.jsx)(e3.VY,{ref:t,className:(0,i.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border border-neutral-700 bg-neutral-900 p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...n})})});ts.displayName=e3.VY.displayName;let ta=n.forwardRef((e,t)=>{let{className:s,inset:n,...r}=e;return(0,a.jsx)(e3.ck,{ref:t,className:(0,i.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-neutral-800 focus:text-white data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n&&"pl-8",s),...r})});ta.displayName=e3.ck.displayName,n.forwardRef((e,t)=>{let{className:s,children:n,checked:r,...o}=e;return(0,a.jsxs)(e3.oC,{ref:t,className:(0,i.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-white data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:r,...o,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(e3.wU,{children:(0,a.jsx)(l.Z,{className:"h-4 w-4"})})}),n]})}).displayName=e3.oC.displayName,n.forwardRef((e,t)=>{let{className:s,children:n,...r}=e;return(0,a.jsxs)(e3.Rk,{ref:t,className:(0,i.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...r,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(e3.wU,{children:(0,a.jsx)(e7.Z,{className:"h-2 w-2 fill-current"})})}),n]})}).displayName=e3.Rk.displayName,n.forwardRef((e,t)=>{let{className:s,inset:n,...r}=e;return(0,a.jsx)(e3.__,{ref:t,className:(0,i.cn)("px-2 py-1.5 text-sm font-semibold text-foreground",n&&"pl-8",s),...r})}).displayName=e3.__.displayName,n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(e3.Z0,{ref:t,className:(0,i.cn)("-mx-1 my-1 h-px bg-border",s),...n})}).displayName=e3.Z0.displayName,s(5188);let tn=s(3983);function tr(e){let{className:t}=e,[s,r]=(0,n.useState)("/"),[l,i]=(0,n.useState)([]),[o,c]=(0,n.useState)(!1),[d,h]=(0,n.useState)(""),[x,m]=(0,n.useState)(!1),[f,p]=(0,n.useState)(""),[j,b]=(0,n.useState)(!1),[g,v]=(0,n.useState)(""),[N,k]=(0,n.useState)("list");var C=(0,n.useRef)(),Z=(0,n.useRef)();function S(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;fetch(tn+"/api/filesList/"+encodeURIComponent(e)).then(t=>{t.ok?t.json().then(t=>{void 0!==t.content?(i(t.content),r(e)):(0,ez.Am)({title:"Path error",description:"The provided path does not exist or can not be accessed"})}):(0,ez.Am)({title:"Path error",description:"The provided path does not exist or can not be accessed"})})}(0,n.useEffect)(()=>{S()},[]);var T=[],T=T.concat(l.filter(e=>"d"!==e[1]).sort((e,t)=>e[0].split(".").pop()>t[0].split(".").pop()?-1:1)),T=T.concat(l.filter(e=>"d"===e[1]).sort((e,t)=>e>t?1:t<e?-1:0));if("list"===N)var z="w-full p-4 bg-transparent border border-neutral-800 border-x-transparent block cursor-default select-none hover:bg-neutral-800 hover:transition-bg hover:duration-400 duration-200 animate-fadein focus:bg-neutral-800 focus:duration-50",F="inline-block h-6 w-6 pr-1";else if("grid"===N)var z="m-1 pt-4 pb-4 w-32 bg-transparent text-center border border-neutral-800 rounded cursor-default select-none hover:bg-neutral-800 hover:transition-bg hover:duration-400 duration-200 animate-fadein focus:bg-neutral-800 focus:duration-50 inline-block align-middle overflow-hidden",F="block h-6 w-6 pr-1 mr-auto ml-auto";function P(e){c(!0),h(s+e)}function R(e){m(!0),p(s+e)}return(0,a.jsxs)("div",{className:"".concat(t," no-scroll overflow-scroll"),style:{maxHeight:"calc(100vh - 150px)"},onContextMenu:e=>e.preventDefault(),children:[(0,a.jsxs)(eB,{open:o,onOpenChange:c,children:[(0,a.jsxs)(eJ,{children:[(0,a.jsxs)(eG,{children:[(0,a.jsx)(eK,{children:"Delete file"}),(0,a.jsxs)(eq,{children:["Do you really want to delete ",d,"?"]})]}),(0,a.jsxs)(eH,{children:[(0,a.jsx)(eX,{children:"Cancel"}),(0,a.jsx)(e$,{onClick:()=>{fetch(tn+"/api/deleteFile/"+encodeURIComponent(d)).then(e=>{h(""),e.ok?S(s):(0,ez.Am)({title:"Deletion failed",description:"Zentrox failed to delete ".concat(d)})})},children:"Delete"})]})]})," "]}),(0,a.jsxs)(eB,{open:j,onOpenChange:b,children:[(0,a.jsxs)(eJ,{children:[(0,a.jsxs)(eG,{children:[(0,a.jsx)(eK,{children:"Delete file"}),(0,a.jsxs)(eq,{children:["Do you really want to burn ",d,"?",(0,a.jsx)("br",{}),"This will overwrite the file with random data and then delete it."]})]}),(0,a.jsxs)(eH,{children:[(0,a.jsx)(eX,{children:"Cancel"}),(0,a.jsxs)(e$,{onClick:()=>{fetch(tn+"/api/burnFile/"+encodeURIComponent(g)).then(e=>{v(""),e.ok?S(s):(0,ez.Am)({title:"Burn failed",description:"Zentrox failed to burn ".concat(g)})})},children:[(0,a.jsx)(eQ.Z,{className:"inline h-6 w-6 mr-1"})," Burn"]})]})]})," "]}),(0,a.jsx)(ef,{open:x,onOpenChange:m,children:(0,a.jsxs)(ev,{children:[(0,a.jsxs)(ey,{children:[(0,a.jsx)(eN,{children:"Rename file"}),(0,a.jsx)(ek,{children:"Enter a new path to rename the file."})]}),(0,a.jsx)(eS.I,{id:"renameFileInput",ref:C,placeholder:"New Path"}),(0,a.jsxs)(ew,{children:[(0,a.jsx)(eb,{children:(0,a.jsx)(u.z,{variant:"secondary",children:"Cancel"})}),(0,a.jsx)(eb,{children:(0,a.jsx)(u.z,{onClick:()=>{var e=C.current.value;e.includes("/")||(e=s+"/"+e),fetch(tn+"/api/renameFile/"+encodeURIComponent(f)+"/"+encodeURIComponent(e)).then(t=>{p(""),t.ok?S(s):(0,ez.Am)({title:"Renaming failed",description:"Zentrox failed at renaming ".concat(f," to ").concat(e,".")})})},children:"Rename"})})]})]})}),(0,a.jsx)(eT.x,{}),(0,a.jsxs)(u.z,{className:"mr-1",onClick:()=>{var e,t;S(((e=s).endsWith("/")||(e+="/"),(t=e.split("/")).pop(),t.pop(),t.join("/")+"/"))},children:[" ",(0,a.jsx)(et.Z,{className:"inline mr-1"}),"Up"]}),(0,a.jsx)(u.z,{className:"mr-1",onClick:()=>{"list"===N?k("grid"):k("list")},children:"list"===N?(0,a.jsx)(w.Z,{className:"inline h-6 w-6"}):(0,a.jsx)(e0.Z,{className:"inline h-6 w-6"})}),(0,a.jsxs)(ef,{children:[(0,a.jsx)(ep,{children:(0,a.jsxs)(u.z,{className:"mr-1",children:[(0,a.jsx)(W.Z,{className:"inline mr-1"}),"Specific location"]})}),(0,a.jsxs)(ev,{children:[(0,a.jsxs)(ey,{children:[(0,a.jsx)(eN,{children:"Specific location"}),(0,a.jsx)(ek,{children:"Enter a specific path to open on the file system"}),(0,a.jsx)("label",{htmlFor:"pathInput",children:"Path"}),(0,a.jsx)(eS.I,{id:"pathInput",ref:Z})]}),(0,a.jsxs)(ew,{children:[(0,a.jsx)(eb,{children:(0,a.jsx)(u.z,{variant:"secondary",children:"Close"})}),(0,a.jsx)(eb,{children:(0,a.jsx)(u.z,{type:"submit",onClick:()=>{if(Z.current.value.endsWith("/"))var e=Z.current.value;else var e=Z.current.value+"/";S(e)},children:"Go"})})]})]})]}),(0,a.jsx)("span",{className:"block m-4 mb-2 text-xl cursor-pointer active:text-green-500 focus:duration-400",onClick:()=>{navigator.clipboard.writeText(s)},children:s}),(0,a.jsx)("div",{className:"rounded-xl m-2 overflow-hidden overflow-y-scroll border-2 border-neutral-800",style:{maxHeight:"calc(100vh - 255px)"},children:T.map((e,t)=>{if("d"===e[1]){if("home"===e[0]&&"/"===s)var n=(0,a.jsx)(e1.Z,{className:F+" text-red-500"});else if("dev"===e[0]&&"/"===s)var n=(0,a.jsx)(y.Z,{className:F+" text-red-500"});else var n=(0,a.jsx)(X.Z,{className:F+" text-yellow-500",fill:"#eab308"})}else if("f"===e[1])switch(e[0].split(".").slice(-1)[0]){case"odt":case"docx":case"doc":case"html":case"txt":var n=(0,a.jsx)(e4.Z,{className:F+" text-blue-500"});break;case"wav":case"mp3":case"m4a":case"aiv":case"flac":var n=(0,a.jsx)(e5.Z,{className:F+" text-pink-500"});break;case"mp4":case"avi":var n=(0,a.jsx)(e2.Z,{className:F+" text-red-500"});break;case"css":case"js":case"ts":case"jsx":case"tsx":case"py":case"cpp":case"c":case"h":case"php":case"rs":case"go":case"json":case"bash":case"sh":case"Makefile":case"lua":case"exe":case"elf":case"dll":var n=(0,a.jsx)(e8.Z,{className:F+" text-green-500"});break;case"old":case"bak":var n=(0,a.jsx)(e6.Z,{className:F+" text-green-500"});break;default:var n=(0,a.jsx)(ea.Z,{className:F+" text-neutral-100"})}else if("a"===e[1])var n=(0,a.jsx)(_.Z,{className:F+" text-neutral-100"});let r="inline-block pr-1 h-6 w-6";return"f"===e[1]?(0,a.jsxs)(te,{children:[(0,a.jsx)(tt,{children:(0,a.jsxs)("span",{id:t,className:z,onClick:()=>window.open(tn+"/api/callFile/"+encodeURIComponent(s+e[0])),children:[n," ",e[0]]})}),(0,a.jsxs)(ts,{children:[(0,a.jsxs)(ta,{onClick:t=>{P(e[0])},children:[(0,a.jsx)(es.Z,{className:r})," Delete"]}),(0,a.jsxs)(ta,{onClick:t=>{R(e[0])},children:[(0,a.jsx)(Q.Z,{className:r})," Rename"]}),(0,a.jsxs)(ta,{onClick:t=>{var a;a=e[0],b(!0),v(s+a)},children:[(0,a.jsx)(eQ.Z,{className:r})," Burn"]}),(0,a.jsxs)(ta,{onClick:()=>window.open(tn+"/api/callFile/"+encodeURIComponent(s+e[0])),children:[(0,a.jsx)(K.Z,{className:r})," Download"]})]})]}):(0,a.jsxs)(te,{children:[(0,a.jsx)(tt,{children:(0,a.jsxs)("span",{id:t,className:z,onClick:()=>S("".concat(s).concat(e[0],"/")),children:[n," ",e[0]]})}),(0,a.jsxs)(ts,{children:[(0,a.jsxs)(ta,{onClick:t=>{P(e[0]),t.preventDefault()},children:[(0,a.jsx)(es.Z,{className:r})," Delete"]}),(0,a.jsxs)(ta,{onClick:t=>{R(e[0])},children:[(0,a.jsx)(Q.Z,{className:r})," Rename"]})]})]})})}),0===T.length?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("b",{className:"text-white/40 block w-full text-center",children:["No files or folders in ",(0,a.jsx)("br",{})," ",s]})}):(0,a.jsx)(a.Fragment,{})]})}s(8059);let tl=s(3983);function ti(e){return null==e?"N/A":e}function to(e){let{children:t}=e;return(0,a.jsx)("nav",{className:"bg-transparent text-neutral-100 p-3 border-neutral-900 border-b font-semibold text-xl",children:t})}function tc(e){let{onClick:t,isDefault:s,isActive:r,children:l}=e,[i,o]=(0,n.useState)(s);if(i||r)var c="mr-2 ml-2 text-lg hover:bg-neutral-900 text-white bg-neutral-900 hover:bg-neutral-800 hover:text-neutral-100";else var c="bg-transparent mr-2 ml-2 text-lg hover:bg-neutral-800 hover:text-neutral-200 text-neutral-400";return i&&(t(),o(!1)),(0,a.jsx)(u.z,{className:c,onClick:()=>{t()},children:l})}function td(e){let{name:t,children:s,className:n,...r}=e;return(0,a.jsx)("div",{className:"w-full h-full flex-grow overflow-y-auto text-white "+n,...r,children:(0,a.jsxs)("div",{className:"p-4 h-full",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold",children:t}),s]})})}function tu(){let[e,t]=(0,n.useState)("Overview");return(0,a.jsxs)("main",{className:"h-screen w-screen overflow-hidden p-0 m-0 flex flex-col",children:[(0,a.jsx)(eT.x,{}),(0,a.jsxs)(to,{children:[(0,a.jsxs)("span",{className:"p-2 pl-4 pr-4 border border-neutral-700 cursor-pointer rounded transition-all content-center inline-block text-lg font-normal",onClick:()=>{window.open("https://github.com/wervice/zentrox")},children:[(0,a.jsx)("img",{src:"zentrox_dark.svg",className:"inline-block pb-0.5 w-5 h-5",alt:"Zentrox Logo"})," ","Zentrox"]})," ",(0,a.jsx)(tc,{onClick:()=>{t("Overview")},isDefault:!0,isActive:"Overview"==e,children:"Overview"}),(0,a.jsx)(tc,{onClick:()=>{t("Packages")},isDefault:!1,isActive:"Packages"==e,children:"Packages"}),(0,a.jsx)(tc,{onClick:()=>{t("Firewall")},isDefault:!1,isActive:"Firewall"==e,children:"Firewall"}),(0,a.jsx)(tc,{onClick:()=>{t("Files")},isDefault:!1,isActive:"Files"==e,children:"Files"}),(0,a.jsx)(tc,{onClick:()=>{t("Storage")},isDefault:!1,isActive:"Storage"==e,children:"Storage"}),(0,a.jsx)(tc,{onClick:()=>{t("Vault")},isDefault:!1,isActive:"Vault"==e,children:"Vault"}),(0,a.jsx)(tc,{onClick:()=>{t("Servers")},isDefault:!1,isActive:"Servers"==e,children:"Servers"}),(0,a.jsxs)(eB,{children:[(0,a.jsx)(eL,{asChild:!0,children:(0,a.jsxs)(u.z,{variant:"link",className:"text-white p-2 m-0 float-right",children:[(0,a.jsx)(en.Z,{className:"h-16 p-1 text-red-500"})," Power Off"]})}),(0,a.jsxs)(eJ,{children:[(0,a.jsxs)(eG,{children:[(0,a.jsx)(eK,{children:"Power Off"}),(0,a.jsxs)(eq,{children:["Do you really want to power off your machine?",(0,a.jsx)("br",{}),"Zentrox can not reboot it automatically."]})]}),(0,a.jsx)(eH,{children:(0,a.jsx)(e$,{onClick:()=>{fetch(tl+"/api/powerOff").then(e=>{e.ok||(0,ez.Am)({title:"Power Off failed"})})},children:"Power Off"})})]})]}),(0,a.jsxs)(u.z,{variant:"link",className:"text-white p-2 m-0 float-right",onClick:()=>{location.href="/logout"},children:[(0,a.jsx)(er.Z,{className:"h-16 p-1"})," Logout"]})]}),(0,a.jsx)(function(){if("Overview"==e)return function(){function e(){fetch(tl+"/api/cpuPercent",{method:"GET",headers:{"Content-Type":"application/json"}}).then(e=>{e.ok&&e.json().then(e=>{r(e.p)})}),fetch(tl+"/api/ramPercent",{method:"GET",headers:{"Content-Type":"application/json"}}).then(e=>{e.ok&&e.json().then(e=>{i(e.p)})}),fetch(tl+"/api/diskPercent",{method:"GET",headers:{"Content-Type":"application/json"}}).then(e=>{e.ok&&e.json().then(e=>{d(e.p)})}),fetch(tl+"/api/deviceInformation",{method:"GET",headers:{"Content-Type":"application/json"}}).then(e=>{e.ok&&e.json().then(e=>{S(e)})})}function t(){fetch(tl+"/api/fetchFTPconfig",{method:"GET",headers:{"Content-Type":"application/json"}}).then(e=>{e.ok&&e.json().then(e=>{z(e.enabled)})})}let[s,r]=(0,n.useState)(0),[l,i]=(0,n.useState)(0),[c,d]=(0,n.useState)(0),[Z,S]=(0,n.useState)({os_name:"",power_supply:"",zentrox_pid:"",process_number:"",hostname:"",uptime:"",temperature:""}),[T,z]=(0,n.useState)(!1),[F,P]=(0,n.useState)(!1),[R,O]=(0,n.useState)(!1);var A=(0,n.useRef)("");return(0,ed.Yz)(()=>e(),5e3),(0,ed.Yz)(()=>{F||t()},2500),(0,n.useEffect)(()=>{e(),t()},[]),(0,a.jsx)(td,{name:"Overview",className:"align-top",children:(0,a.jsxs)("div",{className:"h-72",children:[(0,a.jsxs)("div",{className:"inline-block w-72 h-full align-top p-4 rounded-2xl border border-neutral-700 m-2",children:[(0,a.jsxs)(eo,{className:"text-lg",children:[(0,a.jsx)(h.Z,{className:"inline-block h-6 pr-1"})," Resources"]}),(0,a.jsx)("br",{}),(0,a.jsxs)(eo,{className:"text-neutral-700",children:[(0,a.jsx)(x.Z,{className:"inline-block h-6 pb-1 pr-1"}),"Processor"]}),(0,a.jsx)("br",{}),(0,a.jsx)(ec.SideWayBarChart,{percentage:s}),(0,a.jsxs)(eo,{className:"text-neutral-700",children:[(0,a.jsx)(m.Z,{className:"inline-block h-6 pb-1 pr-1"}),"Memory"]}),(0,a.jsx)("br",{}),(0,a.jsx)(ec.SideWayBarChart,{percentage:l}),(0,a.jsxs)(eo,{className:"text-neutral-700",children:[(0,a.jsx)(f.Z,{className:"inline-block h-6 pb-1 pr-1"}),"Disk"]}),(0,a.jsx)("br",{}),(0,a.jsx)(ec.SideWayBarChart,{percentage:c})]}),(0,a.jsxs)("div",{className:"inline-block align-top w-fit h-full p-4 rounded-2xl border border-neutral-700 m-2",children:[(0,a.jsxs)(eo,{className:"text-lg",children:[(0,a.jsx)(p.Z,{className:"inline-block h-7 pr-1"})," System information"]}),(0,a.jsx)("br",{}),(0,a.jsx)("table",{children:(0,a.jsxs)("tbody",{children:[(0,a.jsxs)("tr",{children:[(0,a.jsxs)("td",{children:[(0,a.jsx)(j.Z,{className:"inline-block h-6 pb-1 pr-1"})," ","Operating System"]}),(0,a.jsx)("td",{children:Z.os_name.replaceAll(/\(.*\)/g,"")})]}),(0,a.jsxs)("tr",{children:[(0,a.jsxs)("td",{children:[(0,a.jsx)(b.Z,{className:"inline-block h-6 pb-1 pr-1"})," Hostname"," ",(0,a.jsx)(eC,{title:"Hostname",info:"The name of your computer in your local network"})]}),(0,a.jsx)("td",{children:Z.hostname})]}),(0,a.jsxs)("tr",{children:[(0,a.jsxs)("td",{children:[(0,a.jsx)(g.Z,{className:"inline-block h-6 pb-1 pr-1"})," ","Temperature"," ",(0,a.jsx)(eC,{title:"Temperature",info:"The temperature of your computer's CPU"})]}),(0,a.jsx)("td",{children:null===Z.temperature?"No data":Z.temperature})]}),(0,a.jsxs)("tr",{children:[(0,a.jsxs)("td",{children:[(0,a.jsx)(v.Z,{className:"inline-block h-6 pb-1 pr-1"})," Uptime"," ",(0,a.jsx)(eC,{title:"Uptime",info:"The time your computer is running since the last boot"})]}),(0,a.jsx)("td",{children:Z.uptime})]}),(0,a.jsxs)("tr",{children:[(0,a.jsxs)("td",{children:[(0,a.jsx)(y.Z,{className:"inline-block h-6 pb-1 pr-1"})," Power Supply"]}),(0,a.jsx)("td",{children:Z.power_supply})]}),(0,a.jsxs)("tr",{children:[(0,a.jsxs)("td",{children:[(0,a.jsx)(w.Z,{className:"inline-block h-6 pb-1 pr-1"})," Active Processes"," ",(0,a.jsx)(eC,{title:"Active Processes",info:"The number of currently running processes on your system"})]}),(0,a.jsx)("td",{children:Z.process_number})]}),(0,a.jsxs)("tr",{children:[(0,a.jsxs)("td",{children:[(0,a.jsx)(N.Z,{className:"inline-block h-6 pb-1 pr-1"})," Zentrox PID"," ",(0,a.jsx)(eC,{title:"Zentrox PID",info:"The process ID of the currently running Zentrox instance"})]}),(0,a.jsx)("td",{children:Z.zentrox_pid})]})]})})]}),(0,a.jsxs)("div",{className:"inline-block align-top w-48 h-full p-4 rounded-2xl border border-neutral-700 m-2",children:[(0,a.jsx)(eo,{className:"text-lg",children:"Servers"}),(0,a.jsx)("br",{}),(0,a.jsxs)(ef,{children:[(0,a.jsx)(ep,{asChild:!0,children:(0,a.jsx)(o,{checked:T,id:"ftpEnabled",onClick:e=>{O(!0),P(!0),e.target.disabled=!0,setTimeout(()=>{e.target.disabled=!1},3e3)}})}),(0,a.jsxs)(ev,{children:[(0,a.jsxs)(ey,{children:[(0,a.jsx)(eN,{children:"Elevated privileges"}),(0,a.jsx)(ek,{children:"Zentrox requires your sudo password for this action."})]}),(0,a.jsx)(eS.I,{type:"password",ref:A,placeholder:"Password"}),(0,a.jsx)(ew,{children:(0,a.jsx)(eb,{asChild:!0,children:(0,a.jsxs)(u.z,{onClick:()=>{z(!T),fetch(tl+"/api/updateFTPConfig",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({enableFTP:!T,enableDisable:!0,sudoPassword:A.current.value})})},children:[(0,a.jsx)(k.Z,{className:"w-4 h-4 inline mr-1"})," Proceed"]})})})]})]}),(0,a.jsxs)("label",{htmlFor:"ftpEnabled",children:[(0,a.jsx)(C.Z,{className:"inline-block h-4 w-4 ml-1"})," FTP Server"]})]})]})})}();if("Packages"==e)return function(){let{toast:e}=(0,ez.pm)(),[t,s]=(0,n.useState)({visible:!1,mode:"",packageName:""});var r=(0,n.useRef)();let[l,i]=(0,n.useState)([]),[o,c]=(0,n.useState)([]),[d,h]=(0,n.useState)([]),[x,m]=(0,n.useState)([]),[f,p]=(0,n.useState)(!1),[j,b]=(0,n.useState)(""),[g,v]=(0,n.useState)("default");(0,n.useEffect)(()=>void(l.length+o.length+d.length===0&&(fetch(tl+"/api/packageDatabase",{headers:{"Content-Type":"application/json"}}).then(t=>{t.ok?t.json().then(e=>{i(Array.from(e.packages)),c(Array.from(e.apps)),h(Array.from(e.others)),p(!0)}):(e({title:"Package Database Error",message:"Zentrox failed to retrieve a list of packages"}),p(!1))}),fetch(tl+"/api/packageDatabaseAutoremove",{headers:{"Content-Type":"application/json"}}).then(t=>{t.ok?t.json().then(e=>{m(e.packages)}):(e({title:"Package Database Error",message:"Zentrox failed to retrieve a list of packages"}),p(!1))}))),[]);let[y,w]=(0,n.useState)("default");function N(e){let{packageName:t,task:r}=e,[l,i]=(0,n.useState)("default");return(0,a.jsxs)("div",{className:"inline-block p-4 m-2 w-72 h-24 border border-neutral-600 md:w-52 text-white rounded-sm align-top relative",title:t,children:[(0,a.jsx)("span",{className:"block mb-1",children:t.length>20?t.substring(0,17)+"...":t}),(0,a.jsx)(u.z,{className:"block right-2 bottom-2 absolute",variant:"remove"==r?"destructive":"default",onClick:()=>{s({visible:!0,mode:r,packageName:t}),w("default")},children:"remove"===r&&"default"===l?"Remove":"install"===r&&"default"===l?"Install":"working"===l?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Z.Z,{className:"h-4 w-4 inline-block animate-spin"})," ","Working"]}):"failed"===l?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(S.Z,{className:"h-4 w-4 inline-block text-red-900"})," ","Failed"]}):"done"===l?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(T.Z,{className:"w-4 h-4 inline-block text-green-800"})," ","Done"]}):void 0})]})}if(!f)return(0,a.jsx)("div",{className:"p-auto pt-5",children:(0,a.jsx)(Z.Z,{className:"animate-spin m-auto w-20 h-20"})});if(j.length>2)var k=(0,a.jsxs)(a.Fragment,{children:[l.filter(e=>"Available"!=e&&0!==e.length&&!!e.includes(j)).sort(e=>e==j?-1:1).map((e,t)=>(0,a.jsx)(N,{packageName:e.split(".")[0],task:"remove"},t)),d.filter(e=>"Available"!=e&&0!==e.length&&!!e.includes(j)).sort(e=>e==j?-1:1).map((e,t)=>(0,a.jsx)(N,{packageName:e.split(".")[0],task:"install"},t))]});else var k=(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"p-auto",children:[(0,a.jsx)(F.Z,{className:"w-16 h-16 m-auto mt-8 text-neutral-600"}),(0,a.jsx)("br",{}),(0,a.jsx)("h3",{className:"text-xl text-neutral-600 m-auto text-center",children:"Search for package to install or uninstall"})]})});return(0,a.jsxs)(td,{name:"Packages",children:[(0,a.jsx)(ef,{open:t.visible,onOpenChange:s,children:(0,a.jsxs)(ev,{children:[(0,a.jsxs)(ey,{children:[(0,a.jsxs)(eN,{children:["install"==t.mode?"Install":"Remove"," ","package?"]}),(0,a.jsxs)(ek,{children:["Do you really want to remove ",t.packageName,"?",(0,a.jsx)("br",{}),"Please enter your sudo password to proceed."]})]}),(0,a.jsx)(eS.I,{type:"password",placeholder:"Password",ref:r}),(0,a.jsx)(ew,{children:(0,a.jsxs)(u.z,{variant:"install"==t.mode?"default":"destructive",onClick:a=>{w("working"),"install"==t.mode?function(t){fetch(tl+"/api/installPackage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({packageName:t,sudoPassword:r.current.value})}).then(a=>{s({visible:!1,packageName:"",mode:"install"}),w("default"),a.ok?(h(d.filter(e=>e.split(".")[0]!==t)),i([t,...l])):e({title:"Failed to install package",description:"Zentrox failed to install a package on your system."})})}(t.packageName):function(t){fetch(tl+"/api/removePackage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({packageName:t,sudoPassword:r.current.value})}).then(a=>{s({visible:!1,packageName:"",mode:"remove"}),w("default"),a.ok?(i(l.filter(e=>e.split(".")[0]!==t)),h([t,...d])):e({title:"Failed to remove package",description:"Zentrox failed to remove a package from your system."})})}(t.packageName)},children:["default"==y?(0,a.jsx)(a.Fragment,{}):(0,a.jsx)(eu,{visible:!0}),"install"==t.mode?"default"==y?"Install Package":"Installing Package":"default"==y?"Remove Package":"Removing Package"]})})]})}),(0,a.jsx)(eZ,{name:"Installed Packages",value:l.length,Icon:(0,a.jsx)(P.Z,{className:"h-5 w-5 inline-block"}),Info:"Packages that are installed on your system. This includes apps."}),(0,a.jsx)(eZ,{name:"Installed Apps",value:o.length,Icon:(0,a.jsx)(R.Z,{className:"h-5 w-5 inline-block"}),Info:"Packages that have a graphical interface and are installed on your system."}),(0,a.jsx)(eZ,{name:"Other Packages",value:d.length,Icon:(0,a.jsx)(O.Z,{className:"h-5 w-5 inline-block"}),Info:"Packages including apps, that are not installed on your system but listed in your package manager."}),(0,a.jsx)(eZ,{name:"Autoremove Packages",value:x.length,Icon:(0,a.jsx)(A.Z,{className:"h-5 w-5 inline-block"}),Info:"Packages that are not required by the system anymore"}),(0,a.jsx)("br",{}),(0,a.jsxs)("div",{className:"h-fit",children:[(0,a.jsx)(eS.I,{placeholder:"Search for package",onChange:e=>{b(e.target.value)},className:"mt-2 inline-block"})," ",(0,a.jsx)(function(){var t=(0,n.useRef)();return"default"===g?(0,a.jsxs)(ef,{children:[(0,a.jsx)(ep,{asChild:!0,children:(0,a.jsxs)(u.z,{className:"inline",children:[(0,a.jsx)(z.Z,{className:"h-4 w-4 inline-block"})," Autoremove"]})}),(0,a.jsxs)(ev,{children:[(0,a.jsxs)(ey,{children:[(0,a.jsx)(eN,{children:"Autoremove Packages"}),(0,a.jsxs)(ek,{children:["Autoremove removes packages that are not requried by the system anymore according to your package manager.",(0,a.jsx)("br",{}),"It requires your sudo password."]})]}),(0,a.jsx)(eS.I,{type:"password",title:"Sudo password",ref:t}),(0,a.jsx)(ew,{children:(0,a.jsx)(eb,{asChild:!0,children:(0,a.jsx)(u.z,{onClick:()=>{v("working"),fetch("/api/clearAutoRemove",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sudoPassword:t.current.value})}).then(t=>{t.ok?t.json().then(e=>{m(e.packages)}):e({title:"Failed to autoremove packages",description:"Zentrox failed to remove not needed packages from your system."}),v("default")})},children:"Proceed"})})})]})]}):(0,a.jsxs)(u.z,{className:"inline",onClick:()=>{v("working"),fetch("/api/clearAutoRemove").then(e=>{e.ok&&(e.json().then(e=>{m(e.packages)}),v("default"))})},children:[(0,a.jsx)(Z.Z,{className:"h-4 w-4 inline-block animate-spin"})," Working"]})},{})]}),(0,a.jsx)("br",{}),k]})}();if("Firewall"==e)return function(){let[e,t]=(0,n.useState)([]),[s,r]=(0,n.useState)(!1),[l,i]=(0,n.useState)("allow"),[o,c]=(0,n.useState)(!1),[h,x]=(0,n.useState)("");var m=(0,n.useRef)(""),f=(0,n.useRef)(""),p=(0,n.useRef)("");let{toast:j}=(0,ez.pm)();function b(){fetch(tl+"/api/fireWallInformation",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({sudoPassword:h})}).then(e=>{e.ok&&e.json().then(e=>{t(e.rules),r(e.enabled)})})}return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ef,{open:""==h,children:(0,a.jsxs)(ev,{children:[(0,a.jsxs)(ey,{children:[(0,a.jsx)(eN,{children:"Sudo Password"}),(0,a.jsx)(ek,{className:"text-white",children:"To view the current state of your firewall, please enter your sudo password. The password will be saved as long as you are viewing the firewall tab. You will have to re-input it again if you leave the the firewall tab."})]}),(0,a.jsx)(eS.I,{type:"password",placeholder:"Sudo password",ref:p}),(0,a.jsx)(ew,{children:(0,a.jsx)(eb,{asChild:!0,children:(0,a.jsx)(u.z,{onClick:()=>{x(p.current.value),b()},children:"Proceed"})})})]})}),(0,a.jsx)(eT.x,{}),(0,a.jsx)(td,{name:"Firewall",children:(0,a.jsxs)("div",{className:"w-64",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(ef,{children:[(0,a.jsx)(ep,{children:(0,a.jsxs)(u.z,{className:"mr-1",children:[(0,a.jsx)(V.Z,{className:"h-6 w-6 inline"}),"New Rule"]})}),(0,a.jsx)(ev,{children:(0,a.jsxs)(ey,{children:[(0,a.jsx)(eN,{children:"New Firewall Rule"}),(0,a.jsx)(ek,{children:"You can create a new rule that applies to your firewall."}),(0,a.jsxs)("label",{htmlFor:"ruleTo",children:[(0,a.jsx)(I.Z,{className:"w-4 h-4 inline"})," To"]}),(0,a.jsx)(eS.I,{id:"ruleTo",placeholder:"Port",ref:m}),(0,a.jsxs)("label",{htmlFor:"ruleFrom",children:[(0,a.jsx)(D.Z,{className:"w-4 h-4 inline"})," From"]}),(0,a.jsx)(eS.I,{id:"ruleFrom",placeholder:"IP Adress",ref:f}),(0,a.jsxs)("label",{htmlFor:"ruleAction",children:[(0,a.jsx)(_.Z,{className:"w-4 h-4 inline"})," Action"]}),(0,a.jsxs)(eO,{value:l,onValueChange:e=>{c(!0),i(e)},children:[(0,a.jsx)(eD,{className:"w-[180px]",children:(0,a.jsx)(eI,{placeholder:"Select an action"})}),(0,a.jsx)(eE,{children:(0,a.jsxs)(eA,{children:[(0,a.jsxs)(eV,{value:"allow",children:[(0,a.jsx)(T.Z,{className:"w-4 h-4 inline mr-1 text-green-500"})," ","Allow"]}),(0,a.jsxs)(eV,{value:"deny",children:[(0,a.jsx)(U.Z,{className:"w-4 h-4 inline mr-1 text-red-500"})," ","Deny"]})]})})]}),(0,a.jsx)(ew,{children:(0,a.jsx)(eb,{asChild:!0,children:(0,a.jsx)(u.z,{onClick:()=>{if(c(!1),0===f.current.value.length||0===m.current.value.length||void 0===m.current.value||void 0===f.current.value){j({title:"Can not create firewall rule",description:"Zentrox can not create a rule with the provided details."});return}fetch(tl+"/api/newFireWallRule/"+encodeURIComponent(f.current.value)+"/"+encodeURIComponent(m.current.value)+"/"+encodeURIComponent(l),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sudoPassword:h})}).then(e=>{e.ok?b():e.json().then(e=>{void 0!==e.msg?j({title:"Failed to create new rule",description:"Zentrox failed to create new firewall rule: "+e.msg}):j({title:"Failed to create new rule",description:"Zentrox failed to create a new firewall rule"})})})},children:"Create"})})})]})})]}),(0,a.jsx)(d,{onClick:e=>{e.target.disabled=!0,fetch(tl+"/api/switchUfw/"+!s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sudoPassword:h})}).then(t=>{t.ok?r(!s):j({title:"Failed to apply firewall configuration",description:"Zentrox failed to change the state of the firewall."}),e.target.disabled=!1,b()})},value:s?"on":"off",checked:s,title:"Enable Firewall",className:"ml-1"})]}),(0,a.jsx)(function(){return s?(0,a.jsx)("div",{className:"max-h-64 overflow-y-scroll overflow-x-hidden w-fit no-scroll",children:(0,a.jsx)("table",{className:"pt-2 fireWall block",children:(0,a.jsxs)("tbody",{children:[(0,a.jsxs)("tr",{className:"w-fit animate-fadein",style:{animationDuration:"100ms"},children:[(0,a.jsxs)("td",{children:[(0,a.jsx)(I.Z,{className:"w-4 h-4 pb-0.5 inline"})," To"]}),(0,a.jsxs)("td",{children:[(0,a.jsx)(D.Z,{className:"w-4 h-4 pb-0.5 inline"})," From"]}),(0,a.jsxs)("td",{children:[(0,a.jsx)(_.Z,{className:"w-4 h-4 pb-0.5 inline"})," Action"]}),(0,a.jsx)("td",{})]}),e.map((e,t)=>(0,a.jsxs)("tr",{className:"w-fit animate-fadein",style:{animationDuration:"".concat(t>6?600:100*t,"ms")},children:[(0,a.jsx)("td",{children:e.to.replaceAll("(v6)","IPv6")}),(0,a.jsx)("td",{children:e.from.replaceAll("(v6)","IPv6")}),(0,a.jsx)("td",{children:"DENY"===e.action?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(U.Z,{className:"h-4 w-4 inline-block text-red-500 pr-1"}),"Deny"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(T.Z,{className:"h-4 w-4 inline-block text-green-500 pr-1"}),"Allow"]})}),(0,a.jsx)("td",{children:(0,a.jsxs)(eB,{children:[(0,a.jsx)(eL,{asChild:!0,children:(0,a.jsx)(u.z,{className:"bg-transparent text-white p-0 m-0 hover:bg-red-500/20 active:bg-red-500/30 w-12",children:(0,a.jsx)(A.Z,{})})}),(0,a.jsxs)(eJ,{children:[(0,a.jsxs)(eG,{children:[(0,a.jsx)(eK,{children:"Delete Rule"}),(0,a.jsx)(eq,{children:"Do you really want to remove this rule? This action can not be undone."})]}),(0,a.jsxs)(eH,{children:[(0,a.jsx)(eX,{children:"Cancel"}),(0,a.jsx)(e$,{onClick:()=>{fetch(tl+"/api/deleteFireWallRule/"+e.index,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sudoPassword:h})}).then(t=>{t.ok?b():j({title:"Failed to delete firewall rule",description:"Zentrox failed to delete rule ".concat(e.index,".")})})},children:"Proceed"})]})]})]})})]},t))]})})}):(0,a.jsxs)("span",{className:"align-middle p-2 block",children:[(0,a.jsx)(E.Z,{className:"w-8 h-8 inline text-neutral-600"})," Firewall is disabled"]})},{})]})})]})}();if("Files"==e)return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(td,{name:"Files",children:(0,a.jsx)(tr,{className:""})})});if("Storage"==e)return function(){let{toast:e}=(0,ez.pm)(),[t,s]=(0,n.useState)([]),[r,l]=(0,n.useState)({drives:{model:"N/A",path:"N/A",owner:"N/A",mountpoint:"",size:0},ussage:[]}),[i,o]=(0,n.useState)([]),[c,d]=(0,n.useState)(!1);function x(t){let{entry:s,inset:n=0}=t;var r=(0,a.jsx)(a.Fragment,{});return null!=s.children&&(r=s.children.map(e=>(0,a.jsx)(x,{entry:e,inset:n+1}))),(0,a.jsxs)(a.Fragment,{children:[" ",(0,a.jsxs)("span",{className:"w-full p-4 bg-transparent border border-neutral-800 border-x-transparent block cursor-default select-none hover:bg-neutral-800 hover:transition-bg hover:duration-400 duration-200 animate-fadein focus:bg-neutral-800 focus:duration-50",style:{paddingLeft:16+10*n},onClick:()=>{var t;t=s.name,d(!0),o(t),fetch(tl+"/api/driveInformation/"+encodeURIComponent(t)).then(t=>{t.ok?t.json().then(e=>{l(e)}):e({title:"Failed to fetch drive informaiton",description:"Zentrox failed to fetch drive details"})})},children:[s.name.startsWith("loop")?(0,a.jsx)(M.Z,{className:"inline-block h-6 w-6 pr-1 text-neutral-700"}):0!=n?(0,a.jsx)(B.Z,{className:"inline-block h-6 w-6 pr-1"}):(0,a.jsx)(P.Z,{className:"inline-block h-6 w-6 pr-1"})," ",s.name]}),r]})}(0,n.useEffect)(()=>{fetch(tl+"/api/driveList").then(t=>{t.ok?t.json().then(e=>{s(e.drives)}):e({title:"Failed to fetch drives list",description:"Zentrox failed to fetch a list of all connected storage mediums."})})},[]);var m,f,p="N/A";for(f of r.ussage)f.mounted===r.drives.mountpoint&&(p=f.capacity);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eT.x,{}),(0,a.jsx)(ef,{open:c,onOpenChange:d,children:(0,a.jsxs)(ev,{children:[(0,a.jsx)(ey,{children:(0,a.jsx)(eN,{children:i})}),(0,a.jsxs)(ek,{className:"text-white",children:[(0,a.jsxs)("b",{className:"block mb-1",children:[(0,a.jsx)(L.Z,{className:"w-4 h-4 inline"})," Model"]}),ti(r.drives.model),(0,a.jsx)("br",{}),(0,a.jsxs)("b",{className:"block mb-1",children:[(0,a.jsx)(W.Z,{className:"w-4 h-4 inline"})," Path"]}),ti(r.drives.path)," ",(0,a.jsx)("br",{}),(0,a.jsxs)("b",{className:"block mb-1",children:[(0,a.jsx)(Y.Z,{className:"w-4 h-4 inline"})," Size"]}),ti((m=r.drives.size)>=1073741824?Math.round(m/1073741824)+" GB":m>=1048576?Math.round(m/1048576)+" MB":m>=1024?Math.round(m/1024)+" KB":m+" B")," ",(0,a.jsx)("br",{}),(0,a.jsxs)("b",{className:"block mb-1",children:[(0,a.jsx)(J.Z,{className:"w-4 h-4 inline"})," Owner"]}),ti(r.drives.owner)," ",(0,a.jsx)("br",{}),(0,a.jsxs)("b",{className:"block mb-1",children:[(0,a.jsx)(G.Z,{className:"w-4 h-4 inline"})," Mountpoint"]}),ti(r.drives.mountpoint),(0,a.jsxs)("b",{className:"block mb-1",children:[(0,a.jsx)(h.Z,{className:"w-4 h-4 inline"})," Ussage (Capacity)"]}),ti(p)]}),(0,a.jsx)(ew,{children:(0,a.jsx)(eb,{asChild:!0,children:(0,a.jsx)(u.z,{children:"Close"})})})]})}),(0,a.jsx)(td,{name:"Storage",children:(0,a.jsx)("div",{className:"rounded-xl m-2 overflow-hidden overflow-y-scroll border-2 border-neutral-800",style:{maxHeight:"calc(100vh - 180px)"},children:t.sort(e=>e.name.includes("loop")?1:-1).map(e=>(0,a.jsx)(x,{entry:e}))})})]})}();if("Vault"==e)return function(){var e=(0,n.useRef)(),t=(0,n.useRef)(),s=(0,n.useRef)(),r=(0,n.useRef)(),l=(0,n.useRef)();let{toast:i}=(0,ez.pm)(),[o,c]=(0,n.useState)(!1),[d,h]=(0,n.useState)(()=>{}),[x,m]=(0,n.useState)(""),[f,p]=(0,n.useState)([]),[j,b]=(0,n.useState)(!1),[g,v]=(0,n.useState)(!1),[y,w]=(0,n.useState)(""),[N,C]=(0,n.useState)("default"),[Z,S]=(0,n.useState)("default"),[T,z]=(0,n.useState)(!1),[F,P]=(0,n.useState)(!1),[R,O]=(0,n.useState)(""),[A,I]=(0,n.useState)("");function D(){var e;let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";fetch(tl+"/api/vaultTree",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:e=""===s?t.current.value:s})}).then(t=>{t.ok?t.json().then(t=>{p(t.fs),b(!0),w(e)}):403===t.status&&i({title:"Failed to authenticate",description:"Zentrox was unable to validate your key"})})}return(0,a.jsxs)(td,{name:"Vault",children:[(0,a.jsx)(eT.x,{}),(0,a.jsx)(ef,{open:o,onOpenChange:c,children:(0,a.jsxs)(ev,{children:[(0,a.jsxs)(ey,{children:[(0,a.jsx)(eN,{children:"Unlock Vault"}),(0,a.jsx)(ek,{children:"Please enter your current vault key to proceed."})]}),(0,a.jsx)(eS.I,{type:"password",placeholder:"Current key",ref:t}),(0,a.jsx)(ew,{children:(0,a.jsx)(eb,{asChild:!0,children:(0,a.jsxs)(u.z,{onClick:()=>{d();var e=function(){};h(()=>e)},children:[(0,a.jsx)(k.Z,{className:"w-4 h-4 pr-1"})," Proceed"]})})})]})}),(0,a.jsxs)("div",{hidden:j,children:[(0,a.jsxs)("label",{htmlFor:"vaultEncryptionKey",children:["Vault Encryption Key"," ",(0,a.jsx)(eC,{title:"Vault Encryption Key",info:(0,a.jsxs)(a.Fragment,{children:["This key is used to encrypt and decrypt the vault.",(0,a.jsx)("br",{}),"If you have not yet used the vault, you can set the key now and the vault will be configured.",(0,a.jsx)("br",{}),"In case that you already have configured a key, you can change it by entering a new key. This requires the old key.",(0,a.jsx)("br",{}),"You should choose a strong key.",(0,a.jsx)("br",{}),(0,a.jsx)("strong",{children:"If the key gets lost, the vault can not be decrypted."})]})})," "]}),(0,a.jsx)("br",{}),(0,a.jsx)(eS.I,{type:"password",id:"vaultEncryptionKey",ref:e,placeholder:"Key",className:"inline"})," ",(0,a.jsxs)(u.z,{variant:"destructive",className:"inline-block mb-1",onClick:()=>{var s=e.current.value;if(0===s.length){i({title:"Missing new key",description:"You need to input a new vault key"});return}fetch(tl+"/api/vaultConfigure",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:s})}).then(s=>{s.ok?s.json().then(s=>{if("no_decrypt_key"===s.code){var a;c(!0),a=function(){fetch(tl+"/api/vaultConfigure",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({newKey:e.current.value,oldKey:t.current.value})}).then(e=>{e.ok?i({title:"Finished changing key",description:"The vault key was changed successfully"}):i({title:"Auth Failed",description:"Zentrox Vault failed to validate your key"})})},h(()=>a)}else i({title:"Finished Vault configuration",description:"A new Vault file was created"})}):400===s.status?i({title:"Bad Request",description:"The data you provided was incorrect. The server responded with error 400."}):i({title:"Server Error "+s.status,description:"The server responded with an HTTP error of "+"."*s.status})})},children:[(0,a.jsx)(k.Z,{className:"w-4 h-4 inline"})," Change"]}),(0,a.jsx)("br",{}),(0,a.jsxs)(u.z,{className:"inline mr-1",onClick:()=>{c(!0);var e=function(){if(0===t.current.value.length){i({title:"Missing Key",description:"You did not provide a key for decryption"});return}D()};h(()=>e)},children:[(0,a.jsx)(H.Z,{className:"w-4 h-4 inline"})," Open Vault"]}),(0,a.jsxs)(u.z,{variant:"secondary",className:"inline mr-1",onClick:()=>{S("loading"),fetch(tl+"/api/vaultBackup").then(e=>{e.ok?e.blob().then(e=>{S("default");var t=window.URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download="vault.tar",document.body.appendChild(s),s.click(),s.remove()}):i({title:"Failed to fetch"})})},children:["default"===Z?(0,a.jsx)(K.Z,{className:"w-4 h-4 inline mr-1"}):(0,a.jsx)(q.Z,{className:"animate-spin h-4 w-4 inline mr-1"})," ","Download Vault"]})]}),(0,a.jsxs)("div",{hidden:!j,className:g?"animate-fadeout duration-300":"",children:[(0,a.jsxs)(u.z,{onClick:()=>{v(!0),setTimeout(()=>{p([]),m(""),b(!1),w("")},290)},className:"mr-1",variant:"destructive",children:[(0,a.jsx)($.Z,{className:"w-4 h-4 inline-block mr-1"})," Exit"]}),(0,a.jsxs)(ef,{children:[(0,a.jsx)(ep,{children:(0,a.jsxs)(u.z,{className:"mr-1",children:[(0,a.jsx)(X.Z,{className:"w-4 h-4 inline-block mr-1"})," New Directory"]})}),(0,a.jsxs)(ev,{children:[(0,a.jsxs)(ey,{children:[(0,a.jsx)(eN,{children:"New Directory"}),(0,a.jsx)(ek,{children:"Create a new directory."})]}),(0,a.jsx)(eS.I,{type:"text",ref:r,placeholder:"Name"}),(0,a.jsx)(ew,{children:(0,a.jsx)(eb,{asChild:!0,children:(0,a.jsxs)(u.z,{onClick:()=>{if(r.current.value.includes("/")||r.current.value.includes(" ")){i({title:"Illegal name",description:"A file name may not include slashes or spaces."});return}fetch(tl+"/api/vaultNewFolder",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:y,folder_name:x+"/"+r.current.value})}).then(e=>{e.ok?D(y):i({title:"Failed to create new directory",description:"Vault could not create a new directory ".concat(r.current.value," in ").concat(x)})})},children:[(0,a.jsx)(X.Z,{className:"w-4 h-4 inline-block mr-1"})," Create"]})})})]})]}),(0,a.jsx)(ef,{open:F,onOpenChange:P,children:(0,a.jsxs)(ev,{children:[(0,a.jsxs)(ey,{children:[(0,a.jsx)(eN,{children:"Rename File"}),(0,a.jsx)(ek,{children:"Rename a file"})]}),(0,a.jsx)(eS.I,{type:"text",ref:l,placeholder:"New Name"}),(0,a.jsx)(ew,{children:(0,a.jsx)(eb,{asChild:!0,children:(0,a.jsxs)(u.z,{onClick:()=>{fetch(tl+"/api/renameVaultFile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:y,path:x+"/"+R,newName:x+"/"+l.current.value})}).then(e=>{e.ok?D(y):i({title:"Failed to rename file",description:"Zentrox failed to rename a file."})})},children:[(0,a.jsx)(Q.Z,{className:"w-4 h-4 inline-block mr-1"})," Rename"]})})})]})}),(0,a.jsx)(eB,{open:T,onOpenChange:z,children:(0,a.jsxs)(eJ,{children:[(0,a.jsx)(eK,{children:"Delete File"}),(0,a.jsxs)(eq,{children:["Do you really want to delete ",A,"?",(0,a.jsx)("br",{}),"This action can not be undone."]}),(0,a.jsx)(eH,{children:(0,a.jsx)(e$,{onClick:()=>{fetch(tl+"/api/deleteVaultFile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:y,deletePath:x+"/"+A})}).then(e=>{e.ok?D(y):i({title:"Failed to delete file",description:"Zentrox failed to delete a file."})})},children:"Delete"})})]})}),(0,a.jsxs)(u.z,{className:"mr-1",onClick:()=>{s.current.click()},children:["default"===N?(0,a.jsx)(ee.Z,{className:"w-4 h-4 inline-block mr-1"}):(0,a.jsx)(q.Z,{className:"animate-spin h-4 w-4 inline mr-1"})," ","Upload File"]}),(0,a.jsx)("input",{type:"file",ref:s,onChange:()=>{C("loading");var e=s.current.files[0];e.size>=2147483648&&i({title:"File to big",description:"The file you provided was larger than 2GB"});var t=new FormData;t.append("file",e),t.append("path",x),t.append("key",y),fetch(tl+"/upload/vault",{method:"POST",body:t}).then(e=>{e.ok?(D(y),C("default")):i({title:"Failed to upload file",description:"Zentrox failed to upload the file you provided"})})},hidden:!0}),(0,a.jsxs)(u.z,{className:"mr-1",onClick:()=>{var e,t,s;m(((e=x).endsWith("/")||(e+="/"),(t=e.split("/")).pop(),t.pop(),"/"==(s=t.join("/")+"/")&&(s=""),s))},children:[(0,a.jsx)(et.Z,{className:"w-4 h-4 inline-block mr-1"})," Up"]})]}),(0,a.jsx)("div",{className:"no-scroll overflow-scroll ".concat(g?"animate-fadeout duration-300":""," h-fit rounded-xl mt-2 overflow-hidden overflow-y-scroll border-2 border-neutral-800 no-scroll"),style:{minHeight:"fit-content",maxHeight:"calc(100vh - 220px)"},hidden:!j,children:f.filter(e=>!!e.startsWith(x)&&e.replace(x).split("/").length<=2&&e!=x).map(e=>{var t="";return t=e.endsWith("/")?"folder":"file",(0,a.jsxs)(te,{children:[(0,a.jsxs)(ts,{children:[(0,a.jsxs)(ta,{onClick:()=>{I(e),z(!0)},children:[(0,a.jsx)(es.Z,{className:"w-4 h-4 inline-block mr-1"})," ","Delete"]}),(0,a.jsxs)(ta,{onClick:()=>{O(e),P(!0)},children:[(0,a.jsx)(Q.Z,{className:"w-4 h-4 inline-block mr-1"})," ","Rename"]})]}),(0,a.jsx)(tt,{children:(0,a.jsxs)("span",{className:"w-full p-4 bg-transparent border border-neutral-800 border-x-transparent block cursor-default select-none hover:bg-neutral-800 hover:transition-bg hover:duration-400 duration-200 animate-fadein focus:bg-neutral-800 focus:duration-50",onClick:"folder"===t?()=>{m(e)}:t=>{t.target.classList.add("animate-pulse"),t.target.classList.add("duration-300"),t.target.classList.remove("duration-200"),fetch(tl+"/api/vaultFileDownload",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:y,path:x+e})}).then(s=>{t.target.classList.remove("animate-pulse"),t.target.classList.remove("duration-300"),t.target.classList.add("duration-200"),s.ok?s.blob().then(t=>{var s=window.URL.createObjectURL(t),a=document.createElement("a");a.href=s,a.download=e,document.body.appendChild(a),a.click(),a.remove()}):i({title:"File download error"})})},children:["folder"===t?(0,a.jsx)(X.Z,{className:"w-6 h-6 inline-block mr-1",fill:"white"}):(0,a.jsx)(ea.Z,{className:"w-6 h-6 inline-block mr-1"})," ","folder"===t?e.split("/").at(-2):e.split("/").at(-1)]})})]})})})]})}();if("Servers"==e)return function(){var e=(0,n.useRef)(),t=(0,n.useRef)(),s=(0,n.useRef)(),r=(0,n.useRef)();let[l,i]=(0,n.useState)({enabled:!1,ftpUserName:"",ftpLocalRoot:""}),[c,d]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{fetch(tl+"/api/fetchFTPconfig").then(t=>{t.ok?t.json().then(t=>{i(t),d(t.enabled),e.current.value=t.ftpUserUsername,s.current.value=t.ftpLocalRoot}):(0,ez.Am)({title:"Failed to fetch FTP configuration",description:"Zentrox failed to fetch the current FTP configuration"})})},[]),(0,a.jsxs)(td,{name:"Servers",children:[(0,a.jsx)("h1",{className:"text-xl",children:"General"}),"Certificates"," ",(0,a.jsx)(eC,{title:"Certificates",info:(0,a.jsxs)(a.Fragment,{children:["Zentrox automatically generates self signed certificates to provide an encrypted connection.",(0,a.jsx)("br",{}),"This connection is not protected from Man-In-The-Middle attacks, which is why it is recommended to use a SSL certificate by a Certificate Authority."]})}),(0,a.jsxs)("h1",{className:"text-xl",children:["FTP"," ",(0,a.jsx)(eC,{title:"File Transfer Protocol",info:(0,a.jsxs)(a.Fragment,{children:["The FTP Protocol is used to transfer files. ",(0,a.jsx)("br",{}),"Zentrox automatically encrypts the trafic using the provided certificates.",(0,a.jsx)("br",{})]})})]}),(0,a.jsx)(o,{onClick:()=>{d(!c),console.log(c)},id:"ftpUserEnabledCheckBox",className:"ml-1",checked:c})," ",(0,a.jsx)("label",{htmlFor:"ftpUserEnabledCheckBox",children:"Enabled"}),(0,a.jsx)("br",{}),(0,a.jsx)(eo,{className:"block p-1",children:"Username"}),(0,a.jsx)(eS.I,{type:"text",ref:e,placeholder:"Username",className:"inline-block mb-1"})," ",(0,a.jsx)(eC,{title:"FTP Username",info:(0,a.jsxs)(a.Fragment,{children:["The FTP username is the username that is used to connect to your FTP server. By Default it is: ",(0,a.jsx)("code",{children:"ftp_zentrox"})]})}),(0,a.jsx)("br",{}),(0,a.jsx)(eo,{className:"block p-1",children:"Password"}),(0,a.jsx)(eS.I,{type:"password",ref:t,placeholder:"Password",className:"inline-block mb-1"})," ",(0,a.jsx)(eC,{title:"FTP Password",info:(0,a.jsxs)(a.Fragment,{children:["The FTP password is the password that is used to connect to your FTP server. ",(0,a.jsx)("br",{}),"You should change it to prevent getting hacked.",(0,a.jsx)("br",{}),"By Default it is: ",(0,a.jsx)("code",{children:"change_me"})]})}),(0,a.jsx)("br",{}),(0,a.jsx)(eo,{className:"block p-1",children:"Root Directory"}),(0,a.jsx)(eS.I,{type:"text",ref:s,placeholder:"FTP Root Directory",className:"inline-block mb-1"})," ",(0,a.jsx)(eC,{title:"FTP Root",info:(0,a.jsxs)(a.Fragment,{children:["The FTP root directory is the directory that a connected FTP user can access. By Default it is: ",(0,a.jsx)("code",{children:"/"})]})}),(0,a.jsx)("br",{}),(0,a.jsxs)(ef,{children:[(0,a.jsx)(ep,{children:(0,a.jsx)(u.z,{children:"Apply"})}),(0,a.jsxs)(ev,{children:[(0,a.jsxs)(ey,{children:[(0,a.jsx)(eN,{children:"Elevated privileges"}),(0,a.jsx)(ek,{children:"Zentrox requires your sudo password for this action."})]}),(0,a.jsx)(eS.I,{type:"password",ref:r,placeholder:"Password"}),(0,a.jsx)(ew,{children:(0,a.jsx)(eb,{onClick:()=>{fetch(tl+"/api/updateFTPConfig",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({enableDisable:!1,enableFTP:c,ftpUserUsername:e.current.value,ftpLocalRoot:s.current.value,ftpUserPassword:t.current.value,sudoPassword:r.current.value})}).then(e=>{e.ok?(0,ez.Am)({title:"FTP server updated",description:"Zentrox updated your FTP server configuration"}):(0,ez.Am)({title:"FTP server error",description:"Failed to update FTP server configuration"})})},asChild:!0,children:(0,a.jsxs)(u.z,{children:[(0,a.jsx)(k.Z,{className:"w-4 h-4 inline-block mr-1"}),"Proceed"]})})})]})]})]})}()},{})]})}tl.length>0&&console.warn("Fetch URL Prefix is enabled\nThis feature is meant for development only and may break the interface if left enabled.\nYou may be running a Non-Release version of Zentrox. Please look at your running Zentrox' log and check if Auth is enabled.\nIf it is not enabled, stop the program.")},3465:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=s(7437);e.exports={SideWayBarChart:function(e){let{percentage:t}=e;return(0,a.jsxs)("div",{className:"rounded overflow-hidden content-center items-center flex mb-2",style:{width:"fit-content",height:"30px"},children:[(0,a.jsx)("div",{className:"inline-block bg-blue-700 mr-2 rounded transition-width duration-700 animate-expand-width",style:{width:"".concat(2*Math.round(t),"px"),height:"30px"}}),Math.round(t),"%"]})}}},5188:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var a=s(7437);function n(e){let{children:t}=e;return(0,a.jsx)("label",{className:"font-200 mb-0.5 block",children:t})}},2200:function(e,t,s){"use strict";s.d(t,{d:function(){return o},z:function(){return c}});var a=s(7437),n=s(2265),r=s(1538),l=s(2218),i=s(8214);let o=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-red-500 text-white hover:bg-red-500/90",outline:"border border-input bg-background hover:bg-white/20 hover:text-white",secondary:"bg-neutral-800 text-secondary-foreground hover:bg-secondary/60",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef((e,t)=>{let{className:s,variant:n,size:l,asChild:c=!1,...d}=e,u=c?r.g7:"button";return(0,a.jsx)(u,{className:(0,i.cn)(o({variant:n,size:l,className:s})),ref:t,...d})});c.displayName="Button"},7147:function(e,t,s){"use strict";s.d(t,{I:function(){return l}});var a=s(7437),n=s(2265),r=s(8214);let l=n.forwardRef((e,t)=>{let{className:s,type:n,...l}=e;return(0,a.jsx)("input",{type:n,className:(0,r.cn)("flex h-10 w-56 rounded-md bg-transparent border-neutral-600 border px-3 py-2 ml-0.5 mt-0.5 text-sm file:bg-transparent file:text-sm file:font-medium placeholder:text-white/80 focus-visible:outline-none focus-visible:border-neutral-600 disabled:cursor-not-allowed disabled:opacity-50 focus-visible:ring-2",s),ref:t,...l})});l.displayName="Input"},1585:function(e,t,s){"use strict";s.d(t,{FN:function(){return h},Mi:function(){return f},VW:function(){return c},_i:function(){return d},gD:function(){return x},lj:function(){return p},sA:function(){return m}});var a=s(7437),n=s(2265),r=s(4504),l=s(2218),i=s(4697),o=s(8214);let c=r.zt,d=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(r.l_,{ref:t,className:(0,o.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",s),...n})});d.displayName=r.l_.displayName;let u=(0,l.j)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border border-zinc-200 p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full dark:border-zinc-800",{variants:{variant:{default:"border bg-white text-zinc-950 dark:bg-zinc-950 dark:text-zinc-50",destructive:"destructive group border-red-500 bg-red-500 text-zinc-50 dark:border-red-900 dark:bg-red-900 dark:text-zinc-50"}},defaultVariants:{variant:"default"}}),h=n.forwardRef((e,t)=>{let{className:s,variant:n,...l}=e;return(0,a.jsx)(r.fC,{ref:t,className:(0,o.cn)(u({variant:n}),s),...l})});h.displayName=r.fC.displayName;let x=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(r.aU,{ref:t,className:(0,o.cn)("inline-flex h-8 shrink-0 items-center justify-center rounded-md border border-zinc-200 bg-transparent px-3 text-sm font-medium ring-offset-white transition-colors hover:bg-zinc-100 focus:outline-none focus:ring-2 focus:ring-zinc-950 focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-zinc-100/40 group-[.destructive]:hover:border-red-500/30 group-[.destructive]:hover:bg-red-500 group-[.destructive]:hover:text-zinc-50 group-[.destructive]:focus:ring-red-500 dark:border-zinc-800 dark:ring-offset-zinc-950 dark:hover:bg-zinc-800 dark:focus:ring-zinc-300 dark:group-[.destructive]:border-zinc-800/40 dark:group-[.destructive]:hover:border-red-900/30 dark:group-[.destructive]:hover:bg-red-900 dark:group-[.destructive]:hover:text-zinc-50 dark:group-[.destructive]:focus:ring-red-900",s),...n})});x.displayName=r.aU.displayName;let m=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(r.x8,{ref:t,className:(0,o.cn)("absolute right-2 top-2 rounded-md p-1 text-zinc-950/50 opacity-0 transition-opacity hover:text-zinc-950 focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600 dark:text-zinc-50/50 dark:hover:text-zinc-50",s),"toast-close":"",...n,children:(0,a.jsx)(i.Z,{className:"h-4 w-4"})})});m.displayName=r.x8.displayName;let f=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(r.Dx,{ref:t,className:(0,o.cn)("text-sm font-semibold",s),...n})});f.displayName=r.Dx.displayName;let p=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(r.dk,{ref:t,className:(0,o.cn)("text-sm opacity-90",s),...n})});p.displayName=r.dk.displayName},396:function(e,t,s){"use strict";s.d(t,{x:function(){return l}});var a=s(7437),n=s(1585),r=s(2435);function l(){let{toasts:e}=(0,r.pm)();return(0,a.jsxs)(n.VW,{children:[e.map(function(e){let{id:t,title:s,description:r,action:l,...i}=e;return(0,a.jsxs)(n.FN,{...i,children:[(0,a.jsxs)("div",{className:"grid gap-1",children:[s&&(0,a.jsx)(n.Mi,{children:s}),r&&(0,a.jsx)(n.lj,{children:r})]}),l,(0,a.jsx)(n.sA,{})]},t)}),(0,a.jsx)(n._i,{})]})}},2435:function(e,t,s){"use strict";s.d(t,{Am:function(){return u},pm:function(){return h}});var a=s(2265);let n=0,r=new Map,l=e=>{if(r.has(e))return;let t=setTimeout(()=>{r.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);r.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?l(s):e.toasts.forEach(e=>{l(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],c={toasts:[]};function d(e){c=i(c,e),o.forEach(e=>{e(c)})}function u(e){let{...t}=e,s=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>d({type:"DISMISS_TOAST",toastId:s});return d({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||a()}}}),{id:s,dismiss:a,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function h(){let[e,t]=a.useState(c);return a.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},3983:function(e){"use strict";e.exports=""},8214:function(e,t,s){"use strict";s.d(t,{cn:function(){return r}});var a=s(4839),n=s(6164);function r(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,n.m6)((0,a.W)(t))}},3137:function(){},5367:function(){}},function(e){e.O(0,[199,855,525,971,23,744],function(){return e(e.s=379)}),_N_E=e.O()}]);